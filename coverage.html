<!DOCTYPE html><html><head><title>Coverage report</title><meta charset="utf-8"><style>body, html {
  margin: 0;
  height: 100%;
  background: #3C3F41;
  font-family: "Lucida Grande", "Lucida Sans Unicode", Helvetica, Arial, sans-serif;
  font-size: 12px;
}

.tree {
  float: left;
  width: 20%;
  height: 100%;
  overflow: auto;
  padding-right: 10px;
  box-sizing: border-box;
  border-right: #262729 1px solid;
  position: fixed;
}

.thread-name, .thread-link {
  color: #aeb4b4;
  text-decoration: none;
  white-space: nowrap;
}

.thread-name {
  color: gray;
}

.thread-selected .thread-link-name {
  color: #45a7b5;
}

.thread-items {
  margin-left: 20px;
}

.thread-dir, .thread-file {
  width: 15px;
  height: 15px;
  display: inline-block;
  background: no-repeat center center;
  opacity: 0.5;
  margin-right: 5px;
  top: 2px;
}

.thread-dir {
  background-image: url(data:image/gif;base64,R0lGODlhDgAMAHcAACH5BAEAAAIALAAAAAAOAAwAh9OIgOG8uPDw8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgrAAEIHBhAgMGDAgYqLIgwocKHECNGbNhQIUWEFi8azKiR40WPFCWKHDkwIAA7);
}

.thread-file {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAMAAAAI/bVFAAADAFBMVEU+QEJMR0WBYFKCYVKcnJyrq6usrKzGgmLOzs7f39/zl2z19fX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8nRl7AAABAHRSTlP///////////////8A////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////m2mkrAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9wMGQsNM0fic1oAAAAHdEVYdEF1dGhvcgCprsxIAAAADHRFWHREZXNjcmlwdGlvbgATCSEjAAAACnRFWHRDb3B5cmlnaHQArA/MOgAAAA50RVh0Q3JlYXRpb24gdGltZQA19w8JAAAACXRFWHRTb2Z0d2FyZQBdcP86AAAAC3RFWHREaXNjbGFpbWVyALfAtI8AAAAIdEVYdFdhcm5pbmcAwBvmhwAAAAd0RVh0U291cmNlAPX/g+sAAAAIdEVYdENvbW1lbnQA9syWvwAAAAZ0RVh0VGl0bGUAqO7SJwAAAEdJREFUCJllzYEOgCAIBNCzKBH5/+9NFBnVbWw82ADkYR3B1sVLNlTqNyeRNVuqrS1JxAU5gaRS864aQ4Mu4Jgl/5uvf5GvHm/RBckCfu/CAAAAAElFTkSuQmCC);
}

.thread-level {
  color: gray;
  font-size: 10px;
  margin-left: 10px;
}

.thread-high .thread-level {
  color: #66B029;
}

.thread-medium .thread-level {
  color: #B28C00;
}

.thread-low .thread-level {
  color: #993300;
}

.source-file {
  background: #2B2B2B;
  color: #E6E1DC;
  counter-reset: file-line-counter;
  position: relative;
  display: none;
  min-height: 100%;
  width: 80%;
  margin-left: 20%;
  overflow-x: auto;
}

.source-file-info {
  z-index: 1;
  position: relative;
  background: #3C3F41;
  padding: 10px;
  margin-bottom: 10px;
}

.source-file:before {
  content: '';
  position: absolute;
  height: 100%;
  width: 0;
  top: 0;
  left: 45px;
  border-right: 1px rgba(255, 255, 255, 0.5) solid;
}

.source-file:target {
  display: block;
}

.line-number {
  display: inline-block;
}
.line-number:before {
  content: counter(file-line-counter);
  counter-increment: file-line-counter;
  display: inline-block;
  width: 40px;
  padding-right: 5px;
  margin-right: 10px;
  text-align: right;
  color: rgba(255, 255, 255, 0.5);
  white-space: nowrap;
  line-height: 20px;
}
.line-has-info .line-number {
  cursor: pointer;
}
.line-has-info .line-number:before {
  text-decoration: underline;
}

.line.uncovered .line-number:before {
  background: rgba(255, 0, 0, 0.50);
}

.line.covered .line-number:before {
  background: rgba(0, 128, 0, 0.50);
}

.line.semi-covered .line-number:before {
  background: rgba(255, 255, 0, 0.50);
}

.line-code {
  white-space: pre;
}

.line-info {
  background: #44443f;
  margin-left: 46px;
  font-size: 12px;
  display: none;
}

.line-show-more-info .line-info {
  display: block;
}

.line:hover, .line-show-more-info {
  background: #444546;
}

.info-table {
  border-collapse: collapse;
  width: 100%;
  margin-top: 15px;
}
.info-table th, .info-table td {
  text-align: left;
  vertical-align: top;
  padding: 2px 5px;
  border-bottom: rgba(255,255,255,0.5) 1px solid;
  border-right: rgba(255,255,255,0.5) 1px solid;
}
.info-table tr:last-child {
  display: none;
}

.info-branch-code {
  white-space: pre;
}

.info-branch-title {
  white-space: nowrap;
}

.info-branch-covered {
  color: lime;
}

.info-branch-uncovered {
  color: red;
}

td.info-spacer {
  border-bottom: none;
}

.info-spacer div {
  height: 10px;
}

.code, .line-number {
  font-family: monaco, monospaced, Courier, monospace;
}

.short.short-more-content-visible .short-more-content {
  display: inline;
}

.short-more {
  background: rgba(255,255,255,0.2);
  color: rgba(255,255,255,0.5);
  border-radius: 5px;
  margin-left: 10px;
  padding: 0 5px;
  cursor: pointer;
}

.short-more-content {
  display: none;
}

.Rest {
  color: gray;
}

.Punctuator {
  color: #CC7833;
}

.Keyword, .Boolean, .Null {
  color: #CC7833;
}

.String, .RegularExpression, .Numeric {
  color: #A5C261;
}

.Block, .Line {
  color: #BC9458;
}

.Variable {
  color: #64A2A2;
}

.ImplicitGlobalVariable {
  color: #D0D0FF;
}

.Parameter {
  border-bottom: #E6E1DC 1px solid;
}

.Field {
  color: #979748;
}

.FunctionName {
  color: #FFC66D;
}</style></head><body><div class="tree"><div class="thread"><span class="thread-name thread-medium"><span class="thread-dir"></span>—<span class="thread-level">78%</span></span><div class="thread-items"><div class="thread"><a href="#index_js" class="thread-link thread-high"><span class="thread-file"></span><span class="thread-link-name">index.js</span><span class="thread-level">81%</span></a><div class="thread-items"></div></div><div class="thread"><span class="thread-name thread-medium"><span class="thread-dir"></span>lib<span class="thread-level">77%</span></span><div class="thread-items"><div class="thread"><a href="#lib_computeDependents_js" class="thread-link thread-high"><span class="thread-file"></span><span class="thread-link-name">computeDependents.js</span><span class="thread-level">86%</span></a><div class="thread-items"></div></div><div class="thread"><a href="#lib_util_js" class="thread-link thread-medium"><span class="thread-file"></span><span class="thread-link-name">util.js</span><span class="thread-level">68%</span></a><div class="thread-items"></div></div></div></div></div></div></div><div class="source"><div id="index_js" class="source-file"><div class="source-file-info"><div class="source-file-name">index.js</div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">path</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;path&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">fs</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;fs&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">getJSFiles</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;get-all-js-files&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">ConfigFile</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;requirejs-config-file&apos;</span><span class="Brace">)</span><span class="Dot">.</span><span class="Field">ConfigFile</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">computeDependents</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;./lib/computeDependents&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">util</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;./lib/util&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * Computes the dependents for the given file across a directory or list of filenames</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> *</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {Object}       options</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String}       options.filename  - The file whose dependents to compute</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String|Array} options.directory - Directory name or list of filenames to process</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {Function}     options.success   - ({String[]}) -&gt; null - Executed with the dependents for the given filename</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String}       [options.config]  - Path to the shim config</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String[]}     [options.exclusions] - List of files and directories to exclude</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function dependents</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">module.exports = </span><span class="Keyword">function</span> <span class="FunctionName">dependents</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Parameter">options</span> <span class="Punctuator">||</span> <span class="Punctuator">!</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected a filename&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">success</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected success callback&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected directory name&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/><br/>  <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">exclusions</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">exclusions</span> <span class="Punctuator">||</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span><br/><br/>  <span class="Line">// Look-up-table whose keys are filenames of JS files in the directory</span><br/>  <span class="Line">// the value for each key is an object of (filename -&gt; dummy value)</span><br/>  <span class="Line">// files that depend on the key</span><br/>  <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span> <span class="Punctuator">=</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">&amp;&amp;</span> <span class="Keyword">typeof</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">!==</span> <span class="String">&apos;object&apos;</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">=</span> <span class="FunctionName">dependents</span><span class="Dot">.</span><span class="Field">_readConfig</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><br/><br/>  <span class="Identifier">processFiles</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span> <span class="Punctuator">=</span> <span class="Keyword">function</span> <span class="FunctionName">dependents</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (!options || !options.filename) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected a filename&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">if (!options.success) { throw new Error(&apos;expected success callback&apos;); }</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (!options || </span><span class="Punctuator">!</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Rest">) {</span></div></td></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Was not returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (</span><span class="Punctuator">!</span><span class="Parameter">options</span><span class="Rest"> || !options.filename) {</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Parameter">options</span> <span class="Punctuator">||</span> <span class="Punctuator">!</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected a filename&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (!options.success) </span><span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected success callback&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span> <span class="Brace">}</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (!options.success) { throw new Error(&apos;expected success callback&apos;); }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Rest">if (!options.directory) { throw new Error(&apos;expected directory name&apos;); }</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">success</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected success callback&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span> <span class="Brace">}</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (!options.directory) </span><span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected directory name&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span> <span class="Brace">}</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (!options.directory) { throw new Error(&apos;expected directory name&apos;); }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">options.filename = path.resolve(options.filename);</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Keyword">new</span> <span class="Identifier">Error</span><span class="Brace">(</span><span class="String">&apos;expected directory name&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span> <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  options.exclusions = options.exclusions || </span><span class="Brace">[</span><span class="Brace">]</span><span class="Rest">;</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  options.exclusions = </span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">exclusions</span><span class="Rest"> || [];</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">exclusions</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">exclusions</span> <span class="Punctuator">||</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Line">// Look-up-table whose keys are filenames of JS files in the directory</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Line">// the value for each key is an object of (filename -&gt; dummy value)</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Line">// files that depend on the key</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span> <span class="Punctuator">=</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (options.config &amp;&amp; typeof options.config !== &apos;object&apos;) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">=</span> <span class="FunctionName">dependents</span><span class="Dot">.</span><span class="Field">_readConfig</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">processFiles(options);</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (options.config &amp;&amp; </span><span class="Keyword">typeof</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">!==</span> <span class="String">&apos;object&apos;</span><span class="Rest">) {</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Rest"> &amp;&amp; typeof options.config !== &apos;object&apos;) {</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">&amp;&amp;</span> <span class="Keyword">typeof</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">!==</span> <span class="String">&apos;object&apos;</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">=</span> <span class="FunctionName">dependents</span><span class="Dot">.</span><span class="Field">_readConfig</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Identifier">processFiles</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @private</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} configPath</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {Object}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_2)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">module.exports._readConfig = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">configPath</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">return</span> <span class="Keyword">new</span> <span class="Identifier">ConfigFile</span><span class="Brace">(</span><span class="Parameter">configPath</span><span class="Brace">)</span><span class="Dot">.</span><span class="Field">read</span><span class="Brace">(</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span><span class="Dot">.</span><span class="Field">_readConfig</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">configPath</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">return</span> <span class="Keyword">new</span> <span class="Identifier">ConfigFile</span><span class="Brace">(</span><span class="Parameter">configPath</span><span class="Brace">)</span><span class="Dot">.</span><span class="Field">read</span><span class="Brace">(</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {Object}   options</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String}   options.directory</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String}   options.filename</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {Function} options.success</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String[]} [options.files] - Allows workers to process predetermined sets of files</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String[]} [options.excludes]</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function processFiles</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Keyword">function</span> <span class="FunctionName">processFiles</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">var</span> <span class="Variable">directory</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">filename</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">files</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">files</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">cb</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">success</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">var</span> <span class="Variable">done</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Variable">cb</span><span class="Brace">(</span><span class="Null">null</span><span class="Punctuator">,</span> <span class="Identifier">Object</span><span class="Dot">.</span><span class="Field">keys</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">||</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">var</span> <span class="Variable">_processDeps</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">file</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Identifier">computeDependents</span><span class="Brace">(</span><span class="Brace">{</span><br/>      <span class="Field">filename</span><span class="Punctuator">:</span> <span class="Parameter">file</span><span class="Punctuator">,</span><br/>      <span class="Field">content</span><span class="Punctuator">:</span> <span class="Parameter">content</span><span class="Punctuator">,</span><br/>      <span class="Field">directory</span><span class="Punctuator">:</span> <span class="Variable">directory</span><span class="Punctuator">,</span><br/>      <span class="Field">dependents</span><span class="Punctuator">:</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Punctuator">,</span><br/>      <span class="Field">config</span><span class="Punctuator">:</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><br/>    <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">var</span> <span class="Variable">_excludes</span> <span class="Punctuator">=</span> <span class="Identifier">util</span><span class="Dot">.</span><span class="Field">DEFAULT_EXCLUDE_DIR</span><span class="Dot">.</span><span class="Field">concat</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">exclusions</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">exclusions</span> <span class="Punctuator">=</span> <span class="Identifier">util</span><span class="Dot">.</span><span class="Field">processExcludes</span><span class="Brace">(</span><span class="Variable">_excludes</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">var</span> <span class="Variable">fileOptions</span> <span class="Punctuator">=</span> <span class="Brace">{</span><br/>    <span class="Field">directory</span><span class="Punctuator">:</span> <span class="Variable">directory</span><span class="Punctuator">,</span><br/>    <span class="Field">dirOptions</span><span class="Punctuator">:</span> <span class="Brace">{</span><br/>      <span class="Field">excludeDir</span><span class="Punctuator">:</span> <span class="Variable">exclusions</span><span class="Dot">.</span><span class="Field">directories</span><span class="Punctuator">,</span><br/>      <span class="Field">exclude</span><span class="Punctuator">:</span> <span class="Variable">exclusions</span><span class="Dot">.</span><span class="Field">files</span><br/>    <span class="Brace">}</span><span class="Punctuator">,</span><br/>    <span class="Field">contentCb</span><span class="Punctuator">:</span> <span class="Variable">_processDeps</span><span class="Punctuator">,</span><br/>    <span class="Field">filesCb</span><span class="Punctuator">:</span> <span class="Variable">done</span><br/>  <span class="Brace">}</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Variable">files</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Identifier">util</span><span class="Dot">.</span><span class="Field">getSassFiles</span><span class="Brace">(</span><span class="Variable">fileOptions</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span><br/>      <span class="Identifier">getJSFiles</span><span class="Brace">(</span><span class="Variable">fileOptions</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><br/><br/>  <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span><br/>    <span class="Variable">files</span><span class="Dot">.</span><span class="Field">forEach</span><span class="Brace">(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Keyword">try</span> <span class="Brace">{</span><br/>        <span class="Variable">_processDeps</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">readFileSync</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="String">&apos;utf8&apos;</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Variable">cb</span><span class="Brace">(</span><span class="CatchClause">e</span><span class="Punctuator">,</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/>    <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>    <span class="Variable">done</span><span class="Brace">(</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><br/><span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">function</span> <span class="FunctionName">processFiles</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">directory</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">filename</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">files</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">files</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">cb</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">success</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_4)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  var done = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Variable">cb</span><span class="Brace">(</span><span class="Null">null</span><span class="Punctuator">,</span> <span class="Identifier">Object</span><span class="Dot">.</span><span class="Field">keys</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">||</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">done</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Was not returned</td><td class="info-branch-code"><div class="code"><span class="Rest">    cb(null, Object.keys(options.dependents[filename] || </span><span class="Brace">{</span><span class="Brace">}</span><span class="Rest">));</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">    cb(null, Object.keys(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span><span class="Rest"> || {}));</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">cb</span><span class="Brace">(</span><span class="Null">null</span><span class="Punctuator">,</span> <span class="Identifier">Object</span><span class="Dot">.</span><span class="Field">keys</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">||</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_5)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  var _processDeps = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">file</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Identifier">computeDependents</span><span class="Brace">(</span><span class="Brace">{</span><br/>      <span class="Field">filename</span><span class="Punctuator">:</span> <span class="Parameter">file</span><span class="Punctuator">,</span><br/>      <span class="Field">content</span><span class="Punctuator">:</span> <span class="Parameter">content</span><span class="Punctuator">,</span><br/>      <span class="Field">directory</span><span class="Punctuator">:</span> <span class="Variable">directory</span><span class="Punctuator">,</span><br/>      <span class="Field">dependents</span><span class="Punctuator">:</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Punctuator">,</span><br/>      <span class="Field">config</span><span class="Punctuator">:</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><br/>    <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">_processDeps</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">file</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Identifier">computeDependents</span><span class="Brace">(</span><span class="Brace">{</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Field">filename</span><span class="Punctuator">:</span> <span class="Parameter">file</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Field">content</span><span class="Punctuator">:</span> <span class="Parameter">content</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Field">directory</span><span class="Punctuator">:</span> <span class="Variable">directory</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Field">dependents</span><span class="Punctuator">:</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Field">config</span><span class="Punctuator">:</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">_excludes</span> <span class="Punctuator">=</span> <span class="Identifier">util</span><span class="Dot">.</span><span class="Field">DEFAULT_EXCLUDE_DIR</span><span class="Dot">.</span><span class="Field">concat</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">exclusions</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">exclusions</span> <span class="Punctuator">=</span> <span class="Identifier">util</span><span class="Dot">.</span><span class="Field">processExcludes</span><span class="Brace">(</span><span class="Variable">_excludes</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">fileOptions</span> <span class="Punctuator">=</span> <span class="Brace">{</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Field">directory</span><span class="Punctuator">:</span> <span class="Variable">directory</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Field">dirOptions</span><span class="Punctuator">:</span> <span class="Brace">{</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Field">excludeDir</span><span class="Punctuator">:</span> <span class="Variable">exclusions</span><span class="Dot">.</span><span class="Field">directories</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Field">exclude</span><span class="Punctuator">:</span> <span class="Variable">exclusions</span><span class="Dot">.</span><span class="Field">files</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Field">contentCb</span><span class="Punctuator">:</span> <span class="Variable">_processDeps</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Field">filesCb</span><span class="Punctuator">:</span> <span class="Variable">done</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (!files) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Identifier">util</span><span class="Dot">.</span><span class="Field">getSassFiles</span><span class="Brace">(</span><span class="Variable">fileOptions</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span><br/>      <span class="Identifier">getJSFiles</span><span class="Brace">(</span><span class="Variable">fileOptions</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><br/><br/>  <span class="Brace">}</span><span class="Rest"> else {</span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Negative was not executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  } else </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Variable">files</span><span class="Dot">.</span><span class="Field">forEach</span><span class="Brace">(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Keyword">try</span> <span class="Brace">{</span><br/>        <span class="Variable">_processDeps</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">readFileSync</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="String">&apos;utf8&apos;</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Variable">cb</span><span class="Brace">(</span><span class="CatchClause">e</span><span class="Punctuator">,</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/>    <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>    <span class="Variable">done</span><span class="Brace">(</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Variable">files</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    if (util.isSassFile(filename)) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Identifier">util</span><span class="Dot">.</span><span class="Field">getSassFiles</span><span class="Brace">(</span><span class="Variable">fileOptions</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><span class="Rest"> else {</span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    } else </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Identifier">getJSFiles</span><span class="Brace">(</span><span class="Variable">fileOptions</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Identifier">util</span><span class="Dot">.</span><span class="Field">getSassFiles</span><span class="Brace">(</span><span class="Variable">fileOptions</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Identifier">getJSFiles</span><span class="Brace">(</span><span class="Variable">fileOptions</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span></span></div></div><div class="line uncovered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_6)</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Was not called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    files.forEach(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Keyword">try</span> <span class="Brace">{</span><br/>        <span class="Variable">_processDeps</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">readFileSync</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="String">&apos;utf8&apos;</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Variable">cb</span><span class="Brace">(</span><span class="CatchClause">e</span><span class="Punctuator">,</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/>    <span class="Brace">}</span><span class="Rest">);</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">files</span><span class="Dot">.</span><span class="Field">forEach</span><span class="Brace">(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Keyword">try</span> <span class="Brace">{</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">        <span class="Variable">_processDeps</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">readFileSync</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="String">&apos;utf8&apos;</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">        <span class="Variable">cb</span><span class="Brace">(</span><span class="CatchClause">e</span><span class="Punctuator">,</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">done</span><span class="Brace">(</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div></div><div id="lib_computeDependents_js" class="source-file"><div class="source-file-info"><div class="source-file-name">computeDependents.js</div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">precinct</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;precinct&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">util</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;./util&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">lookup</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;module-lookup-amd&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">resolveDepPath</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;resolve-dependency-path&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">fs</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;fs&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">path</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;path&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * Registers all dependencies of the given file as &quot;used&quot;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> *</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param {Object} options</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param {String} options.filename</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param {String} options.content</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param {String} options.directory</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param {String} [options.config] - path to a requirejs config file</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param {Object} options.dependents - hash of dependents found so far</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_7)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">module.exports = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">var</span> <span class="Variable">filename</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">fileContent</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">content</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">directory</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">dependents</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Variable">fileContent</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/><br/>  <span class="Variable">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">=</span> <span class="Variable">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">||</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Punctuator">;</span><br/><br/>  <span class="Line">// Register the current file as dependent on each dependency</span><br/>  <span class="Identifier">getDependencies</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">fileContent</span><span class="Brace">)</span><span class="Dot">.</span><span class="Field">forEach</span><span class="Brace">(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Line">// Look up the dep to see if it&apos;s aliased in the config</span><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">&amp;&amp;</span> <span class="Punctuator">!</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">lookup</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><br/><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">resolveSassDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>    <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">resolveDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><br/><br/>    <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span> <span class="Punctuator">=</span> <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span> <span class="Punctuator">||</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Punctuator">;</span><br/>    <span class="Line">// The current file is a dependent of the dependency</span><br/>    <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">=</span> <span class="Numeric">1</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">filename</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filename</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">fileContent</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">content</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">directory</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">dependents</span> <span class="Punctuator">=</span> <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">dependents</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (!fileContent) </span><span class="Brace">{</span> <span class="Keyword">return</span><span class="Punctuator">;</span> <span class="Brace">}</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (!fileContent) { return; }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">dependents[filename] = dependents[filename] || {};</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Variable">fileContent</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span><span class="Punctuator">;</span> <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  dependents[filename] = dependents[filename] || </span><span class="Brace">{</span><span class="Brace">}</span><span class="Rest">;</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  dependents[filename] = </span><span class="Variable">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span><span class="Rest"> || {};</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Variable">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">=</span> <span class="Variable">dependents</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">||</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Line">// Register the current file as dependent on each dependency</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_8)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  getDependencies(filename, fileContent).forEach(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Line">// Look up the dep to see if it&apos;s aliased in the config</span><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">&amp;&amp;</span> <span class="Punctuator">!</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">lookup</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><br/><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">resolveSassDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>    <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">resolveDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><br/><br/>    <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span> <span class="Punctuator">=</span> <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span> <span class="Punctuator">||</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Punctuator">;</span><br/>    <span class="Line">// The current file is a dependent of the dependency</span><br/>    <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">=</span> <span class="Numeric">1</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest">);</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Identifier">getDependencies</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">fileContent</span><span class="Brace">)</span><span class="Dot">.</span><span class="Field">forEach</span><span class="Brace">(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Line">// Look up the dep to see if it&apos;s aliased in the config</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    if (options.config &amp;&amp; !util.isSassFile(filename)) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">lookup</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>    <span class="Rest">if (util.isSassFile(filename)) {</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">    if (options.config &amp;&amp; </span><span class="Punctuator">!</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Rest">) {</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">    if (</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Rest"> &amp;&amp; !util.isSassFile(filename)) {</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span> <span class="Punctuator">&amp;&amp;</span> <span class="Punctuator">!</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">lookup</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">config</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    if (util.isSassFile(filename)) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">resolveSassDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>    <span class="Brace">}</span><span class="Rest"> else {</span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    } else </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">resolveDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Variable">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">resolveSassDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Parameter">dep</span> <span class="Punctuator">=</span> <span class="Identifier">resolveDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">filename</span><span class="Punctuator">,</span> <span class="Variable">directory</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">    dependents[dep] = dependents[dep] || </span><span class="Brace">{</span><span class="Brace">}</span><span class="Rest">;</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">    dependents[dep] = </span><span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span><span class="Rest"> || {};</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span> <span class="Punctuator">=</span> <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span> <span class="Punctuator">||</span> <span class="Brace">{</span><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Line">// The current file is a dependent of the dependency</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">dependents</span><span class="Brace">[</span><span class="Parameter">dep</span><span class="Brace">]</span><span class="Brace">[</span><span class="Variable">filename</span><span class="Brace">]</span> <span class="Punctuator">=</span> <span class="Numeric">1</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * Determines the resolved dependency path according to</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * the Sass compiler&apos;s dependency lookup behavior</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> *</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} dep</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} filename</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} directory</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {String}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function resolveSassDepPath</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Keyword">function</span> <span class="FunctionName">resolveSassDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">directory</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">var</span> <span class="Variable">fileDir</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">dirname</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Line">// Use the file&apos;s extension if necessary</span><br/>  <span class="Keyword">var</span> <span class="Variable">ext</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">?</span> <span class="String">&apos;&apos;</span> <span class="Punctuator">:</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">sassDep</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">dep</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;..&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span> <span class="Punctuator">||</span> <span class="Parameter">dep</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;.&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Variable">sassDep</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span><br/><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">existsSync</span><span class="Brace">(</span><span class="Variable">sassDep</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">sassDep</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/>  <span class="Brace">}</span><br/><br/>  <span class="Line">// path.basename in case the dep is slashed: a/b/c should be a/b/_c.scss</span><br/>  <span class="Keyword">var</span> <span class="Variable">isSlashed</span> <span class="Punctuator">=</span> <span class="Parameter">dep</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;/&apos;</span><span class="Brace">)</span> <span class="Punctuator">!==</span> <span class="Punctuator">-</span><span class="Numeric">1</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">_dep</span> <span class="Punctuator">=</span> <span class="Variable">isSlashed</span> <span class="Punctuator">?</span><br/>            <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">dirname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="String">&apos;/_&apos;</span> <span class="Punctuator">+</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">:</span><br/>            <span class="String">&apos;_&apos;</span> <span class="Punctuator">+</span> <span class="Parameter">dep</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">var</span> <span class="Variable">underscored</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Variable">fileDir</span><span class="Punctuator">,</span> <span class="Variable">_dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">existsSync</span><span class="Brace">(</span><span class="Variable">underscored</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">underscored</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/><br/>  <span class="Keyword">var</span> <span class="Variable">samedir</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Variable">fileDir</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">existsSync</span><span class="Brace">(</span><span class="Variable">samedir</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">samedir</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/><br/>  <span class="Keyword">return</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">directory</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">function</span> <span class="FunctionName">resolveSassDepPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">directory</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">fileDir</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">dirname</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Line">// Use the file&apos;s extension if necessary</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch ConditionalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was returned (? ...)</td><td class="info-branch-code"><div class="code"><span class="Rest">  var ext = path.extname(dep) ? </span><span class="String">&apos;&apos;</span><span class="Rest"> : path.extname(filename);</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was returned (: ...)</td><td class="info-branch-code"><div class="code"><span class="Rest">  var ext = path.extname(dep) ? &apos;&apos; : </span><span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Rest">;</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">ext</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">?</span> <span class="String">&apos;&apos;</span> <span class="Punctuator">:</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">sassDep</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (dep.indexOf(&apos;..&apos;) === 0 || dep.indexOf(&apos;.&apos;) === 0) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Variable">sassDep</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span><br/><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">existsSync</span><span class="Brace">(</span><span class="Variable">sassDep</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">sassDep</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/>  <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">// path.basename in case the dep is slashed: a/b/c should be a/b/_c.scss</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (dep.indexOf(&apos;..&apos;) === 0 || </span><span class="Parameter">dep</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;.&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span><span class="Rest">) {</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (</span><span class="Parameter">dep</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;..&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span><span class="Rest"> || dep.indexOf(&apos;.&apos;) === 0) {</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">dep</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;..&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span> <span class="Punctuator">||</span> <span class="Parameter">dep</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;.&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">sassDep</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Positive was not executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">    if (fs.existsSync(sassDep)) </span><span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">sassDep</span><span class="Punctuator">;</span> <span class="Brace">}</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    if (fs.existsSync(sassDep)) { return sassDep; }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Rest">}</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">existsSync</span><span class="Brace">(</span><span class="Variable">sassDep</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">sassDep</span><span class="Punctuator">;</span> <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Line">// path.basename in case the dep is slashed: a/b/c should be a/b/_c.scss</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">isSlashed</span> <span class="Punctuator">=</span> <span class="Parameter">dep</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;/&apos;</span><span class="Brace">)</span> <span class="Punctuator">!==</span> <span class="Punctuator">-</span><span class="Numeric">1</span><span class="Punctuator">;</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch ConditionalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was returned (? ...)</td><td class="info-branch-code"><div class="code"><span class="Rest">            </span><span class="Identifier">path</span><span class="Dot">.</span><span class="Field">dirname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="String">&apos;/_&apos;</span> <span class="Punctuator">+</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span><span class="Rest"> :</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was returned (: ...)</td><td class="info-branch-code"><div class="code"><span class="Rest">            </span><span class="String">&apos;_&apos;</span> <span class="Punctuator">+</span> <span class="Parameter">dep</span><span class="Rest">;</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">_dep</span> <span class="Punctuator">=</span> <span class="Variable">isSlashed</span> <span class="Punctuator">?</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">            <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">dirname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="String">&apos;/_&apos;</span> <span class="Punctuator">+</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">:</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">            <span class="String">&apos;_&apos;</span> <span class="Punctuator">+</span> <span class="Parameter">dep</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">underscored</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Variable">fileDir</span><span class="Punctuator">,</span> <span class="Variable">_dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (fs.existsSync(underscored)) </span><span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">underscored</span><span class="Punctuator">;</span> <span class="Brace">}</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (fs.existsSync(underscored)) { return underscored; }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">var samedir = path.resolve(fileDir, dep) + ext;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">existsSync</span><span class="Brace">(</span><span class="Variable">underscored</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">underscored</span><span class="Punctuator">;</span> <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">samedir</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Variable">fileDir</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (fs.existsSync(samedir)) </span><span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">samedir</span><span class="Punctuator">;</span> <span class="Brace">}</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Negative was not executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (fs.existsSync(samedir)) { return samedir; }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">return path.resolve(directory, dep) + ext;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">existsSync</span><span class="Brace">(</span><span class="Variable">samedir</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">samedir</span><span class="Punctuator">;</span> <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">return</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">directory</span><span class="Punctuator">,</span> <span class="Parameter">dep</span><span class="Brace">)</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * Returns an underscored version of the given dependency&apos;s file path</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> *</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} dep</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {String}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line uncovered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function getUnderscoredSassPath</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Was not called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Keyword">function</span> <span class="FunctionName">getUnderscoredSassPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">var</span> <span class="Variable">ext</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">filename</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">ext</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">dirname</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">dirname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">return</span> <span class="Variable">dirname</span> <span class="Punctuator">+</span> <span class="String">&apos;/_&apos;</span> <span class="Punctuator">+</span> <span class="Variable">filename</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">function</span> <span class="FunctionName">getUnderscoredSassPath</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">ext</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">filename</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Punctuator">,</span> <span class="Variable">ext</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">dirname</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">dirname</span><span class="Brace">(</span><span class="Parameter">dep</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">return</span> <span class="Variable">dirname</span> <span class="Punctuator">+</span> <span class="String">&apos;/_&apos;</span> <span class="Punctuator">+</span> <span class="Variable">filename</span> <span class="Punctuator">+</span> <span class="Variable">ext</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} filename</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} fileContent</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {String[]}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function getDependencies</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Keyword">function</span> <span class="FunctionName">getDependencies</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">fileContent</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">var</span> <span class="Variable">dependencies</span> <span class="Punctuator">=</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">try</span> <span class="Brace">{</span><br/>    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Variable">dependencies</span> <span class="Punctuator">=</span> <span class="Identifier">precinct</span><span class="Brace">(</span><span class="Parameter">fileContent</span><span class="Punctuator">,</span> <span class="String">&apos;sass&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span><br/>      <span class="Variable">dependencies</span> <span class="Punctuator">=</span> <span class="Identifier">precinct</span><span class="Brace">(</span><span class="Parameter">fileContent</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><br/>  <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Keyword">return</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><br/><br/>  <span class="Keyword">return</span> <span class="Variable">dependencies</span><span class="Punctuator">;</span><br/><span class="Brace">}</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">function</span> <span class="FunctionName">getDependencies</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">fileContent</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">dependencies</span> <span class="Punctuator">=</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">try</span> <span class="Brace">{</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    if (util.isSassFile(filename)) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Variable">dependencies</span> <span class="Punctuator">=</span> <span class="Identifier">precinct</span><span class="Brace">(</span><span class="Parameter">fileContent</span><span class="Punctuator">,</span> <span class="String">&apos;sass&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><span class="Rest"> else {</span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    } else </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Variable">dependencies</span> <span class="Punctuator">=</span> <span class="Identifier">precinct</span><span class="Brace">(</span><span class="Parameter">fileContent</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">if</span> <span class="Brace">(</span><span class="Identifier">util</span><span class="Dot">.</span><span class="Field">isSassFile</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Variable">dependencies</span> <span class="Punctuator">=</span> <span class="Identifier">precinct</span><span class="Brace">(</span><span class="Parameter">fileContent</span><span class="Punctuator">,</span> <span class="String">&apos;sass&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Variable">dependencies</span> <span class="Punctuator">=</span> <span class="Identifier">precinct</span><span class="Brace">(</span><span class="Parameter">fileContent</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">return</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">return</span> <span class="Variable">dependencies</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span></span></div></div></div><div id="lib_util_js" class="source-file"><div class="source-file-info"><div class="source-file-name">util.js</div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">dir</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;node-dir&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">path</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;path&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Keyword">var</span> <span class="Variable">fs</span> <span class="Punctuator">=</span> <span class="Identifier">require</span><span class="Brace">(</span><span class="String">&apos;fs&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {Object} options</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} options.directory</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {Function} options.contentCb</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {Function} options.filesCb</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_12)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">module.exports.getSassFiles = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Identifier">dir</span><span class="Dot">.</span><span class="Field">readFiles</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">,</span> <span class="Brace">{</span><br/>    <span class="Field">match</span><span class="Punctuator">:</span> <span class="RegularExpression">/(.scss|.sass)$/</span><span class="Punctuator">,</span><br/>    <span class="Field">exclude</span><span class="Punctuator">:</span> <span class="RegularExpression">/^\./</span><br/>    <span class="Brace">}</span><span class="Punctuator">,</span><br/>    <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">err</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">next</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">err</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Parameter">err</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">contentCb</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">contentCb</span><span class="Brace">(</span><span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/><br/>      <span class="Parameter">next</span><span class="Brace">(</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><span class="Punctuator">,</span><br/>    <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">err</span><span class="Punctuator">,</span> <span class="Parameter">files</span><span class="Brace">)</span> <span class="Brace">{</span><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">err</span><span class="Brace">)</span> <span class="Keyword">throw</span> <span class="Parameter">err</span><span class="Punctuator">;</span><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filesCb</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filesCb</span><span class="Brace">(</span><span class="Parameter">files</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/>    <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span><span class="Dot">.</span><span class="Field">getSassFiles</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Identifier">dir</span><span class="Dot">.</span><span class="Field">readFiles</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">,</span> <span class="Brace">{</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Field">match</span><span class="Punctuator">:</span> <span class="RegularExpression">/(.scss|.sass)$/</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Field">exclude</span><span class="Punctuator">:</span> <span class="RegularExpression">/^\./</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span><span class="Punctuator">,</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_13)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">err</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">next</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">err</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Parameter">err</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">contentCb</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">contentCb</span><span class="Brace">(</span><span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/><br/>      <span class="Parameter">next</span><span class="Brace">(</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Brace">}</span><span class="Rest">,</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">err</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Punctuator">,</span> <span class="Parameter">next</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Positive was not executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">      if (err) </span><span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Parameter">err</span><span class="Punctuator">;</span> <span class="Brace">}</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      if (err) { throw err; }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>      <span class="Rest">if (options.contentCb) {</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">err</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">throw</span> <span class="Parameter">err</span><span class="Punctuator">;</span> <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      if (options.contentCb) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>        <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">contentCb</span><span class="Brace">(</span><span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Negative was not executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>      <span class="Rest">next();</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">contentCb</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">        <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">contentCb</span><span class="Brace">(</span><span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">directory</span><span class="Punctuator">,</span> <span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">,</span> <span class="Parameter">content</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Parameter">next</span><span class="Brace">(</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span><span class="Punctuator">,</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_14)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">    </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">err</span><span class="Punctuator">,</span> <span class="Parameter">files</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">err</span><span class="Brace">)</span> <span class="Keyword">throw</span> <span class="Parameter">err</span><span class="Punctuator">;</span><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filesCb</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filesCb</span><span class="Brace">(</span><span class="Parameter">files</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/>    <span class="Brace">}</span><span class="Rest">);</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">err</span><span class="Punctuator">,</span> <span class="Parameter">files</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Positive was not executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">      if (err) </span><span class="Keyword">throw</span> <span class="Parameter">err</span><span class="Punctuator">;</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      if (err) throw err;</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>      <span class="Rest">if (options.filesCb) {</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">err</span><span class="Brace">)</span> <span class="Keyword">throw</span> <span class="Parameter">err</span><span class="Punctuator">;</span></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      if (options.filesCb) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>        <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filesCb</span><span class="Brace">(</span><span class="Parameter">files</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Negative was not executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Rest">});</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filesCb</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">        <span class="Parameter">options</span><span class="Dot">.</span><span class="Field">filesCb</span><span class="Brace">(</span><span class="Parameter">files</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String}  filename</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {Boolean}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_15)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">module.exports.isSassFile = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">var</span> <span class="Variable">ext</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Keyword">return</span> <span class="Variable">ext</span> <span class="Punctuator">===</span> <span class="String">&apos;.scss&apos;</span> <span class="Punctuator">||</span> <span class="Variable">ext</span> <span class="Punctuator">===</span> <span class="String">&apos;.sass&apos;</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span><span class="Dot">.</span><span class="Field">isSassFile</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">ext</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  return ext === &apos;.scss&apos; || </span><span class="Variable">ext</span> <span class="Punctuator">===</span> <span class="String">&apos;.sass&apos;</span><span class="Rest">;</span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Was returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  return </span><span class="Variable">ext</span> <span class="Punctuator">===</span> <span class="String">&apos;.scss&apos;</span><span class="Rest"> || ext === &apos;.sass&apos;;</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">return</span> <span class="Variable">ext</span> <span class="Punctuator">===</span> <span class="String">&apos;.scss&apos;</span> <span class="Punctuator">||</span> <span class="Variable">ext</span> <span class="Punctuator">===</span> <span class="String">&apos;.sass&apos;</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * Set of directories to ignore by default</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @type {Array}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span><span class="Dot">.</span><span class="Field">DEFAULT_EXCLUDE_DIR</span> <span class="Punctuator">=</span> <span class="Brace">[</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="String">&apos;node_modules&apos;</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="String">&apos;bower_components&apos;</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="String">&apos;vendor&apos;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">]</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * Separates out the excluded directories and files</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> *</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String[]} excludes</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} directory - Used for resolving the exclusion to the filesystem</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> *</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {Object} results</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {String} results.directories - regex representing the directories</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {String} results.files - regex representing the files</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_16)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">module.exports.processExcludes = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">excludes</span><span class="Punctuator">,</span> <span class="Parameter">directory</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">var</span> <span class="Variable">results</span> <span class="Punctuator">=</span> <span class="Brace">{</span><br/>    <span class="Field">directories</span><span class="Punctuator">:</span> <span class="String">&apos;&apos;</span><span class="Punctuator">,</span><br/>    <span class="Field">files</span><span class="Punctuator">:</span> <span class="String">&apos;&apos;</span><br/>  <span class="Brace">}</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">var</span> <span class="Variable">self</span> <span class="Punctuator">=</span> <span class="Keyword">this</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">var</span> <span class="Variable">dirs</span> <span class="Punctuator">=</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">files</span> <span class="Punctuator">=</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">dirsPattetn</span><span class="Punctuator">;</span><br/>  <span class="Keyword">var</span> <span class="Variable">filesPattern</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Parameter">excludes</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">results</span><span class="Punctuator">;</span> <span class="Brace">}</span><br/><br/>  <span class="Parameter">excludes</span><span class="Dot">.</span><span class="Field">forEach</span><span class="Brace">(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Keyword">try</span> <span class="Brace">{</span><br/>      <span class="Keyword">var</span> <span class="Variable">resolved</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">directory</span><span class="Punctuator">,</span> <span class="Parameter">exclude</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Keyword">var</span> <span class="Variable">stats</span> <span class="Punctuator">=</span> <span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">lstatSync</span><span class="Brace">(</span><span class="Variable">resolved</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">stats</span><span class="Dot">.</span><span class="Field">isDirectory</span><span class="Brace">(</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Variable">self</span><span class="Dot">.</span><span class="Field">stripTrailingSlash</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">stats</span><span class="Dot">.</span><span class="Field">isFile</span><span class="Brace">(</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Parameter">exclude</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Punctuator">,</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>        <span class="Variable">files</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/>    <span class="Line">// Ignore files that don&apos;t exist</span><br/>    <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span><span class="Brace">}</span><br/>  <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">length</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Identifier">dirsPattern</span> <span class="Punctuator">=</span> <span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">join</span><span class="Brace">(</span><span class="String">&apos;|&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Variable">results</span><span class="Dot">.</span><span class="Field">directories</span> <span class="Punctuator">=</span> <span class="Keyword">new</span> <span class="Identifier">RegExp</span><span class="Brace">(</span><span class="Identifier">dirsPattern</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><br/><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">files</span><span class="Dot">.</span><span class="Field">length</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Variable">filesPattern</span> <span class="Punctuator">=</span> <span class="Variable">files</span><span class="Dot">.</span><span class="Field">join</span><span class="Brace">(</span><span class="String">&apos;|&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Variable">results</span><span class="Dot">.</span><span class="Field">files</span> <span class="Punctuator">=</span> <span class="Keyword">new</span> <span class="Identifier">RegExp</span><span class="Brace">(</span><span class="Variable">filesPattern</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><br/><br/>  <span class="Keyword">return</span> <span class="Variable">results</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span><span class="Dot">.</span><span class="Field">processExcludes</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">excludes</span><span class="Punctuator">,</span> <span class="Parameter">directory</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">results</span> <span class="Punctuator">=</span> <span class="Brace">{</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Field">directories</span><span class="Punctuator">:</span> <span class="String">&apos;&apos;</span><span class="Punctuator">,</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Field">files</span><span class="Punctuator">:</span> <span class="String">&apos;&apos;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">self</span> <span class="Punctuator">=</span> <span class="Keyword">this</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">dirs</span> <span class="Punctuator">=</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">files</span> <span class="Punctuator">=</span> <span class="Brace">[</span><span class="Brace">]</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">dirsPattetn</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">var</span> <span class="Variable">filesPattern</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Positive was not executed (if)</td><td class="info-branch-code"><div class="code"><span class="Rest">  if (!excludes) </span><span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">results</span><span class="Punctuator">;</span> <span class="Brace">}</span><span class="Rest"></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (!excludes) { return results; }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">excludes.forEach(function(exclude) {</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Punctuator">!</span><span class="Parameter">excludes</span><span class="Brace">)</span> <span class="Brace">{</span> <span class="Keyword">return</span> <span class="Variable">results</span><span class="Punctuator">;</span> <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_17)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  excludes.forEach(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Keyword">try</span> <span class="Brace">{</span><br/>      <span class="Keyword">var</span> <span class="Variable">resolved</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">directory</span><span class="Punctuator">,</span> <span class="Parameter">exclude</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Keyword">var</span> <span class="Variable">stats</span> <span class="Punctuator">=</span> <span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">lstatSync</span><span class="Brace">(</span><span class="Variable">resolved</span><span class="Brace">)</span><span class="Punctuator">;</span><br/><br/>      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">stats</span><span class="Dot">.</span><span class="Field">isDirectory</span><span class="Brace">(</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Variable">self</span><span class="Dot">.</span><span class="Field">stripTrailingSlash</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">stats</span><span class="Dot">.</span><span class="Field">isFile</span><span class="Brace">(</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><br/>        <span class="Parameter">exclude</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Punctuator">,</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>        <span class="Variable">files</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><br/>    <span class="Line">// Ignore files that don&apos;t exist</span><br/>    <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span><span class="Brace">}</span><br/>  <span class="Brace">}</span><span class="Rest">);</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Parameter">excludes</span><span class="Dot">.</span><span class="Field">forEach</span><span class="Brace">(</span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">try</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Keyword">var</span> <span class="Variable">resolved</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">resolve</span><span class="Brace">(</span><span class="Parameter">directory</span><span class="Punctuator">,</span> <span class="Parameter">exclude</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Keyword">var</span> <span class="Variable">stats</span> <span class="Punctuator">=</span> <span class="Identifier">fs</span><span class="Dot">.</span><span class="Field">lstatSync</span><span class="Brace">(</span><span class="Variable">resolved</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      if (stats.isDirectory()) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>        <span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Variable">self</span><span class="Dot">.</span><span class="Field">stripTrailingSlash</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><span class="Rest"> else if (stats.isFile()) {</span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Negative was not executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      } else </span><span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">stats</span><span class="Dot">.</span><span class="Field">isFile</span><span class="Brace">(</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>        <span class="Parameter">exclude</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Punctuator">,</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>        <span class="Variable">files</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">stats</span><span class="Dot">.</span><span class="Field">isDirectory</span><span class="Brace">(</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">        <span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Variable">self</span><span class="Dot">.</span><span class="Field">stripTrailingSlash</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line uncovered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Positive was not executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      } else if (stats.isFile()) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>        <span class="Parameter">exclude</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Punctuator">,</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>        <span class="Variable">files</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>      <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Negative was not executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">      }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Rest">// Ignore files that don&apos;t exist</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Brace">}</span> <span class="Keyword">else</span> <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">stats</span><span class="Dot">.</span><span class="Field">isFile</span><span class="Brace">(</span><span class="Brace">)</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">        <span class="Parameter">exclude</span> <span class="Punctuator">=</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">basename</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Punctuator">,</span> <span class="Identifier">path</span><span class="Dot">.</span><span class="Field">extname</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">        <span class="Variable">files</span><span class="Dot">.</span><span class="Field">push</span><span class="Brace">(</span><span class="Parameter">exclude</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">      <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Line">// Ignore files that don&apos;t exist</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Brace">}</span> <span class="Keyword">catch</span> <span class="Brace">(</span><span class="CatchClause">e</span><span class="Brace">)</span> <span class="Brace">{</span><span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Positive was executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (dirs.length) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Identifier">dirsPattern</span> <span class="Punctuator">=</span> <span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">join</span><span class="Brace">(</span><span class="String">&apos;|&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Variable">results</span><span class="Dot">.</span><span class="Field">directories</span> <span class="Punctuator">=</span> <span class="Keyword">new</span> <span class="Identifier">RegExp</span><span class="Brace">(</span><span class="Identifier">dirsPattern</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">if (files.length) {</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">length</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Identifier">dirsPattern</span> <span class="Punctuator">=</span> <span class="Variable">dirs</span><span class="Dot">.</span><span class="Field">join</span><span class="Brace">(</span><span class="String">&apos;|&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">results</span><span class="Dot">.</span><span class="Field">directories</span> <span class="Punctuator">=</span> <span class="Keyword">new</span> <span class="Identifier">RegExp</span><span class="Brace">(</span><span class="Identifier">dirsPattern</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Positive was not executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (files.length) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Variable">filesPattern</span> <span class="Punctuator">=</span> <span class="Variable">files</span><span class="Dot">.</span><span class="Field">join</span><span class="Brace">(</span><span class="String">&apos;|&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>    <span class="Variable">results</span><span class="Dot">.</span><span class="Field">files</span> <span class="Punctuator">=</span> <span class="Keyword">new</span> <span class="Identifier">RegExp</span><span class="Brace">(</span><span class="Variable">filesPattern</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">return results;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Variable">files</span><span class="Dot">.</span><span class="Field">length</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">filesPattern</span> <span class="Punctuator">=</span> <span class="Variable">files</span><span class="Dot">.</span><span class="Field">join</span><span class="Brace">(</span><span class="String">&apos;|&apos;</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Variable">results</span><span class="Dot">.</span><span class="Field">files</span> <span class="Punctuator">=</span> <span class="Keyword">new</span> <span class="Identifier">RegExp</span><span class="Brace">(</span><span class="Variable">filesPattern</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">return</span> <span class="Variable">results</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String} str</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {String}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_18)</th></tr><tr><td class="info-branch-title info-branch-covered">✓ Was called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">module.exports.stripTrailingSlash = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">str</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">str</span><span class="Brace">[</span><span class="Parameter">str</span><span class="Dot">.</span><span class="Field">length</span> <span class="Punctuator">-</span> <span class="Numeric">1</span><span class="Brace">]</span> <span class="Punctuator">===</span> <span class="String">&apos;/&apos;</span><span class="Brace">)</span> <span class="Brace">{</span><br/>    <span class="Keyword">return</span> <span class="Parameter">str</span><span class="Dot">.</span><span class="Field">slice</span><span class="Brace">(</span><span class="Numeric">0</span><span class="Punctuator">,</span> <span class="Punctuator">-</span><span class="Numeric">1</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><br/><br/>  <span class="Keyword">return</span> <span class="Parameter">str</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest">;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span><span class="Dot">.</span><span class="Field">stripTrailingSlash</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">str</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line semi-covered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch IfStatement</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Positive was not executed (if)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  if (str[str.length - 1] === &apos;/&apos;) </span><span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>    <span class="Keyword">return</span> <span class="Parameter">str</span><span class="Dot">.</span><span class="Field">slice</span><span class="Brace">(</span><span class="Numeric">0</span><span class="Punctuator">,</span> <span class="Punctuator">-</span><span class="Numeric">1</span><span class="Brace">)</span><span class="Punctuator">;</span><br/>  <span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td class="info-branch-title info-branch-covered">✓ Negative was executed (else)</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">  }</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/><br/>  <span class="Rest">return str;</span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">if</span> <span class="Brace">(</span><span class="Parameter">str</span><span class="Brace">[</span><span class="Parameter">str</span><span class="Dot">.</span><span class="Field">length</span> <span class="Punctuator">-</span> <span class="Numeric">1</span><span class="Brace">]</span> <span class="Punctuator">===</span> <span class="String">&apos;/&apos;</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line uncovered"><div class="line-code"><span class="line-number"></span><span class="code">    <span class="Keyword">return</span> <span class="Parameter">str</span><span class="Dot">.</span><span class="Field">slice</span><span class="Brace">(</span><span class="Numeric">0</span><span class="Punctuator">,</span> <span class="Punctuator">-</span><span class="Numeric">1</span><span class="Brace">)</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line covered"><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">return</span> <span class="Parameter">str</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block">/**</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @param  {String}  filename</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> * @return {Boolean}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Block"> */</span></span></div></div><div class="line uncovered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Function (anonymous_19)</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Was not called</td><td class="info-branch-code"><div class="code"><span class="short"><span class="Rest">module.exports.isRelativePath = </span><span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span> <span class="Brace">{</span><span class="short-more">&middot;&middot;&middot;</span><span class="short-more-content"><br/>  <span class="Keyword">return</span> <span class="Parameter">filename</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;..&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span> <span class="Punctuator">||</span> <span class="Parameter">filename</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;.&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span><span class="Punctuator">;</span><br/><span class="Brace">}</span><span class="Rest"></span></span></span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code"><span class="Identifier">module</span><span class="Dot">.</span><span class="Field">exports</span><span class="Dot">.</span><span class="Field">isRelativePath</span> <span class="Punctuator">=</span> <span class="Keyword">function</span><span class="Brace">(</span><span class="Parameter">filename</span><span class="Brace">)</span> <span class="Brace">{</span></span></div></div><div class="line uncovered line-has-info"><div class="line-info"><table class="info-table"><tbody><tr><th colspan="2" class="info-title">Branch LogicalExpression</th></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Was not returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  return filename.indexOf(&apos;..&apos;) === 0 || </span><span class="Parameter">filename</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;.&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span><span class="Rest">;</span></div></td></tr><tr><td class="info-branch-title info-branch-uncovered">✗ Was not returned</td><td class="info-branch-code"><div class="code"><span class="Rest">  return </span><span class="Parameter">filename</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;..&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span><span class="Rest"> || filename.indexOf(&apos;.&apos;) === 0;</span></div></td></tr><tr><td colspan="2" class="info-spacer"><div></div></td></tr></tbody></table></div><div class="line-code"><span class="line-number"></span><span class="code">  <span class="Keyword">return</span> <span class="Parameter">filename</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;..&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span> <span class="Punctuator">||</span> <span class="Parameter">filename</span><span class="Dot">.</span><span class="Field">indexOf</span><span class="Brace">(</span><span class="String">&apos;.&apos;</span><span class="Brace">)</span> <span class="Punctuator">===</span> <span class="Numeric">0</span><span class="Punctuator">;</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"><span class="Brace">}</span></span></div></div><div class="line no-state"><div class="line-code"><span class="line-number"></span><span class="code"></span></div></div></div></div><script>function updateHash() {
    [].forEach.call(document.getElementsByClassName('thread-link'), function (node) {
        node.className = (node.getAttribute('href') === location.hash ?
            node.className + ' thread-selected' :
            node.className.replace(/thread\-selected/g, ''));
    });
}
window.onhashchange = updateHash;
updateHash();

function toggleClass(element, className) {
  var regexp = new RegExp('(\\s|^)' + className.replace(/\-/g, '\\-') + '(\\s|$)');
  console.log(regexp);
  if (element.className.match(regexp)) {
    element.className = element.className.replace(regexp, ' ');
  } else {
    element.className += ' ' + className;
  }
};

document.body.onclick = function (e) {
  if (e.target.className === 'short-more') {
    toggleClass(e.target.parentNode, 'short-more-content-visible');
  } else {
    var node = e.target;
    var body = document.body;
    while (node.parentNode && node !== body) {
      if (node.className === 'line-number') {
        toggleClass(node.parentNode.parentNode, 'line-show-more-info');
      }
      node = node.parentNode;
    }
  }
};</script></body></html>